<!DOCTYPE html>
<html>
<body>

<video id="demo" width="320" height="240" controls>
  <source src="movie.mp4" type="video/mp4">
  <source src="movie.ogg" type="video/ogg">
  Your browser does not support the video tag.
</video>

<p id="thetimer"></p>


<script>
const myvideo = document.getElementById("demo");
const myvideo_text = document.getElementById("thetimer");

var myVar, xvar;

let ob = {
 index : 0,
 myFunction : () => {
    ob.index += 1;
    console.log(ob.index);
    xvar = setTimeout(ob.myFunction, 1000);
    
 },
 playfun : (myVar)=> {
 myVar = setTimeout(ob.myFunction, 1000);
 },
 stopfun : (myVar)=> {
 clearTimeout(myVar);
 myvideo_text.textContent = ob.index;
 ob.stopfun1(xvar);
 },
 stopfun1 : (xvar)=> {
 clearTimeout(xvar);
 }
}



myvideo.addEventListener("play", ob.playfun);
myvideo.addEventListener("pause", ob.stopfun);
myvideo.addEventListener("ended", ob.stopfun);

</script>
</body>
</html>
